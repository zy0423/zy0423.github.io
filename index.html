<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Kuye</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Kuye">
<meta property="og:url" content="http://zy0423.github.io/index.html">
<meta property="og:site_name" content="Kuye">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kuye">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Kuye" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/k.png">
  
  
  
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: undefined,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false,
      }
  </script>

  
      <script>
          yiliaConfig.rootUrl = "/";
      </script>
  

  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/u.gif" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">kuye</a></h1>
        </hgroup>

        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zengyi0423@163.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zy0423" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/thrift/" style="font-size: 10px;">thrift</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">kuye</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/u.gif" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">kuye</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:zengyi0423@163.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/zy0423" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-DhtmlxGantt-甘特图的使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/11/DhtmlxGantt-甘特图的使用/" class="article-date">
      <time datetime="2016-04-11T06:10:58.000Z" itemprop="datePublished">2016-04-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/11/DhtmlxGantt-甘特图的使用/">DhtmlxGantt的使用(一)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>dhtmlxGantt是一个开源的JavaScript甘特图，是DHTMLX组件中的一个，可以帮助您有一个非常漂亮的图表可视化项目进度。它可以显示任务之间的依赖关系为线，并允许您设置的任务之间的不同关系 （结束到开始，开始-开始，终端到终端）。dhtmlxGantt提供了灵活的API和大量的事件句柄，它给你自由定制您的需求。<br><img src="http://i.imgur.com/LpVQ8ZG.png" alt=""></p>
<h2 id="版本和许可证"><a href="#版本和许可证" class="headerlink" title="版本和许可证"></a>版本和许可证</h2><p><img src="http://i.imgur.com/zZJmu7w.png" alt=""></p>
<p>dhtmlxGantt分为标准版和专业版。标准版采用GPL协议，专业版需要支付额外的费用。</p>
<p>dhtmlxGantt发布许可证：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">开源- GPL -允许您使用dhtmlxGantt标准在GPL-ED项目免费。</span><br><span class="line"></span><br><span class="line">商业许可（$ 449） -允许您在一个项目（应用程序）具有无限份数的使用dhtmlxGantt PRO。有了这个许可证，您将收到1个月的技术支持（或12个月内5支持请求）。</span><br><span class="line"></span><br><span class="line">企业许可证（$ 979） -允许您使用dhtmlxGantt PRO在一家公司开发的项目中无限使用。票务支持，版本升级，并可以导出为PDF / PNG等文件，没有水印，提供了12个月的免费升级。</span><br><span class="line">企业许可证包括一个额外的PRO特性-到一个页面上显示多个甘特图的能力。</span><br></pre></td></tr></table></figure></p>
<h2 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h2><ul>
<li>下载dhtmlxGantt：<a href="http://dhtmlx.com/docs/products/dhtmlxGantt/" title="dhtmlxGantt" target="_blank" rel="external">http://dhtmlx.com/docs/products/dhtmlxGantt/</a></li>
<li>解压压缩包</li>
</ul>
<h2 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h2><h3 id="复制下面两个文件到你的项目里面去"><a href="#复制下面两个文件到你的项目里面去" class="headerlink" title="复制下面两个文件到你的项目里面去"></a>复制下面两个文件到你的项目里面去</h3><ul>
<li>dhtmlxgantt.js</li>
<li>dhtmlxgantt.css</li>
</ul>
<h3 id="在你的页面引用上面两个文件"><a href="#在你的页面引用上面两个文件" class="headerlink" title="在你的页面引用上面两个文件"></a>在你的页面引用上面两个文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>How to Start with dhtmlxGantt<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"codebase/dhtmlxgantt.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>   </span><br><span class="line">   <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"codebase/dhtmlxgantt.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    //your code will be here</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h2><h3 id="初始化dhtmlxGantt"><a href="#初始化dhtmlxGantt" class="headerlink" title="初始化dhtmlxGantt"></a>初始化dhtmlxGantt</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>How to Start with dhtmlxGantt<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"codebase/dhtmlxgantt.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"codebase/dhtmlxgantt.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"gantt_here"</span> <span class="attr">style</span>=<span class="string">'width:1000px; height:400px;'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><br><span class="line">        gantt.init("gantt_here");</span><br><span class="line">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="第四步"><a href="#第四步" class="headerlink" title="第四步"></a>第四步</h2><h3 id="加载数据"><a href="#加载数据" class="headerlink" title="加载数据"></a>加载数据</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tasks = &#123;</span><br><span class="line">    data:[</span><br><span class="line">        &#123;id:<span class="number">1</span>, text:<span class="string">"Project #1"</span>,start_date:<span class="string">"01-04-2013"</span>, duration:<span class="number">11</span>,</span><br><span class="line">        progress: <span class="number">0.6</span>, open: <span class="literal">true</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">2</span>, text:<span class="string">"Task #1"</span>,   start_date:<span class="string">"03-04-2013"</span>, duration:<span class="number">5</span>, </span><br><span class="line">        progress: <span class="number">1</span>,   open: <span class="literal">true</span>, parent:<span class="number">1</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">3</span>, text:<span class="string">"Task #2"</span>,   start_date:<span class="string">"02-04-2013"</span>, duration:<span class="number">7</span>, </span><br><span class="line">        progress: <span class="number">0.5</span>, open: <span class="literal">true</span>, parent:<span class="number">1</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">4</span>, text:<span class="string">"Task #2.1"</span>, start_date:<span class="string">"03-04-2013"</span>, duration:<span class="number">2</span>, </span><br><span class="line">        progress: <span class="number">1</span>,   open: <span class="literal">true</span>, parent:<span class="number">3</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">5</span>, text:<span class="string">"Task #2.2"</span>, start_date:<span class="string">"04-04-2013"</span>, duration:<span class="number">3</span>, </span><br><span class="line">        progress: <span class="number">0.8</span>, open: <span class="literal">true</span>, parent:<span class="number">3</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">6</span>, text:<span class="string">"Task #2.3"</span>, start_date:<span class="string">"05-04-2013"</span>, duration:<span class="number">4</span>, </span><br><span class="line">        progress: <span class="number">0.2</span>, open: <span class="literal">true</span>, parent:<span class="number">3</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    links:[</span><br><span class="line">        &#123;id:<span class="number">1</span>, source:<span class="number">1</span>, target:<span class="number">2</span>, type:<span class="string">"1"</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">2</span>, source:<span class="number">1</span>, target:<span class="number">3</span>, type:<span class="string">"1"</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">3</span>, source:<span class="number">3</span>, target:<span class="number">4</span>, type:<span class="string">"1"</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">4</span>, source:<span class="number">4</span>, target:<span class="number">5</span>, type:<span class="string">"0"</span>&#125;,</span><br><span class="line">        &#123;id:<span class="number">5</span>, source:<span class="number">5</span>, target:<span class="number">6</span>, type:<span class="string">"0"</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改上一步代码</span></span><br><span class="line">gantt.init(<span class="string">"gantt_here"</span>); </span><br><span class="line">gantt.parse (tasks);</span><br></pre></td></tr></table></figure>
<h2 id="第五步"><a href="#第五步" class="headerlink" title="第五步"></a>第五步</h2><h3 id="展示结果"><a href="#展示结果" class="headerlink" title="展示结果"></a>展示结果</h3><p><img src="http://i.imgur.com/otmwILM.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-node-java" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/18/node-java/" class="article-date">
      <time datetime="2016-03-18T06:00:00.000Z" itemprop="datePublished">2016-03-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/18/node-java/">Java与Node.js跨语言通信Thrift实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="Thrift介绍"><a href="#Thrift介绍" class="headerlink" title="Thrift介绍"></a>Thrift介绍</h2><p>Thrift是一个软件框架，用来进行可扩展且跨语言的服务的开发。它结合了功能强大的软件堆栈和代码生成引擎，以构建在 C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and OCaml 这些编程语言间无缝结合的、高效的服务。</p>
<h2 id="下载Thrift"><a href="#下载Thrift" class="headerlink" title="下载Thrift"></a>下载Thrift</h2><ul>
<li>主页:<a href="http://thrift.apache.org/" target="_blank" rel="external">http://thrift.apache.org/</a></li>
<li>下载地址:<a href="http://thrift.apache.org/download" title="http://thrift.apache.org/download" target="_blank" rel="external">http://thrift.apache.org/download</a></li>
<li>目前最新版本是<code>0.9.3</code>、测试环境<code>Windows</code>、基于Maven项目。</li>
<li>pom.xml:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;libthrift&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;0.9.3&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span><br><span class="line">	&lt;version&gt;1.6.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>Thrift文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * Licensed to the Apache Software Foundation (ASF) under one</span><br><span class="line"> * or more contributor license agreements. See the NOTICE file</span><br><span class="line"> * distributed with this work for additional information</span><br><span class="line"> * regarding copyright ownership. The ASF licenses this file</span><br><span class="line"> * to you under the Apache License, Version 2.0 (the</span><br><span class="line"> * &quot;License&quot;); you may not use this file except in compliance</span><br><span class="line"> * with the License. You may obtain a copy of the License at</span><br><span class="line"> *</span><br><span class="line"> *   http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line"> *</span><br><span class="line"> * Unless required by applicable law or agreed to in writing,</span><br><span class="line"> * software distributed under the License is distributed on an</span><br><span class="line"> * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span><br><span class="line"> * KIND, either express or implied. See the License for the</span><br><span class="line"> * specific language governing permissions and limitations</span><br><span class="line"> * under the License.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"># Thrift Tutorial</span><br><span class="line"># Mark Slee (mcslee@facebook.com)</span><br><span class="line">#</span><br><span class="line"># This file aims to teach you how to use Thrift, in a .thrift file. Neato. The</span><br><span class="line"># first thing to notice is that .thrift files support standard shell comments.</span><br><span class="line"># This lets you make your thrift file executable and include your Thrift build</span><br><span class="line"># step on the top line. And you can place comments like this anywhere you like.</span><br><span class="line">#</span><br><span class="line"># Before running this file, you will need to have installed the thrift compiler</span><br><span class="line"># into /usr/local/bin.</span><br><span class="line"></span><br><span class="line"># 支持类型</span><br><span class="line">/**</span><br><span class="line"> * The first thing to know about are types. The available types in Thrift are:</span><br><span class="line"> *</span><br><span class="line"> *  bool        Boolean, one byte</span><br><span class="line"> *  i8 (byte)   Signed 8-bit integer</span><br><span class="line"> *  i16         Signed 16-bit integer</span><br><span class="line"> *  i32         Signed 32-bit integer</span><br><span class="line"> *  i64         Signed 64-bit integer</span><br><span class="line"> *  double      64-bit floating point value</span><br><span class="line"> *  string      String</span><br><span class="line"> *  binary      Blob (byte array)</span><br><span class="line"> *  map&lt;t1,t2&gt;  Map from one type to another</span><br><span class="line"> *  list&lt;t1&gt;    Ordered list of one type</span><br><span class="line"> *  set&lt;t1&gt;     Set of unique elements of one type</span><br><span class="line"> *</span><br><span class="line"> * Did you also notice that Thrift supports C style comments?</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">// Just in case you were wondering... yes. We support simple C comments too.</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Thrift files can reference other Thrift files to include common struct</span><br><span class="line"> * and service definitions. These are found using the current path, or by</span><br><span class="line"> * searching relative to any paths specified with the -I compiler flag.</span><br><span class="line"> *</span><br><span class="line"> * Included objects are accessed using the name of the .thrift file as a</span><br><span class="line"> * prefix. i.e. shared.SharedObject</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"># thrift文件引入</span><br><span class="line">include &quot;shared.thrift&quot;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Thrift files can namespace, package, or prefix their output in various</span><br><span class="line"> * target languages.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 命名空间</span><br><span class="line">namespace cpp tutorial</span><br><span class="line">namespace d tutorial</span><br><span class="line">namespace dart tutorial</span><br><span class="line">namespace java tutorial</span><br><span class="line">namespace php tutorial</span><br><span class="line">namespace perl tutorial</span><br><span class="line">namespace haxe tutorial</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Thrift lets you do typedefs to get pretty names for your types. Standard</span><br><span class="line"> * C style here.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 自定义类型</span><br><span class="line">typedef i32 MyInteger</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Thrift also lets you define constants for use across languages. Complex</span><br><span class="line"> * types and structs are specified using JSON notation.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 常量定义</span><br><span class="line">const i32 INT32CONSTANT = 9853</span><br><span class="line">const map&lt;string,string&gt; MAPCONSTANT = &#123;&apos;hello&apos;:&apos;world&apos;, &apos;goodnight&apos;:&apos;moon&apos;&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * You can define enums, which are just 32 bit integers. Values are optional</span><br><span class="line"> * and start at 1 if not supplied, C style again.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 枚举定义</span><br><span class="line">enum Operation &#123;</span><br><span class="line">  ADD = 1,</span><br><span class="line">  SUBTRACT = 2,</span><br><span class="line">  MULTIPLY = 3,</span><br><span class="line">  DIVIDE = 4</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Structs are the basic complex data structures. They are comprised of fields</span><br><span class="line"> * which each have an integer identifier, a type, a symbolic name, and an</span><br><span class="line"> * optional default value.</span><br><span class="line"> *</span><br><span class="line"> * Fields can be declared &quot;optional&quot;, which ensures they will not be included</span><br><span class="line"> * in the serialized output if they aren&apos;t set.  Note that this requires some</span><br><span class="line"> * manual management in some languages.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 结构体定义</span><br><span class="line">struct Work &#123;</span><br><span class="line">  1: i32 num1 = 0,</span><br><span class="line">  2: i32 num2,</span><br><span class="line">  3: Operation op,</span><br><span class="line">  4: optional string comment,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Structs can also be exceptions, if they are nasty.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 异常定义</span><br><span class="line">exception InvalidOperation &#123;</span><br><span class="line">  1: i32 whatOp,</span><br><span class="line">  2: string why</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Ahh, now onto the cool part, defining a service. Services just need a name</span><br><span class="line"> * and can optionally inherit from another service using the extends keyword.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line"> # 服务定义</span><br><span class="line">service Calculator extends shared.SharedService &#123;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * A method definition looks like C code. It has a return type, arguments,</span><br><span class="line">   * and optionally a list of exceptions that it may throw. Note that argument</span><br><span class="line">   * lists and exception lists are specified using the exact same syntax as</span><br><span class="line">   * field lists in struct or exception definitions.</span><br><span class="line">   */</span><br><span class="line"></span><br><span class="line"># 接口方法定义</span><br><span class="line">   void ping(),</span><br><span class="line"></span><br><span class="line">   i32 add(1:i32 num1, 2:i32 num2),</span><br><span class="line"></span><br><span class="line">   i32 calculate(1:i32 logid, 2:Work w) throws (1:InvalidOperation ouch),</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * This method has a oneway modifier. That means the client only makes</span><br><span class="line">    * a request and does not listen for any response at all. Oneway methods</span><br><span class="line">    * must be void.</span><br><span class="line">    */</span><br><span class="line">   oneway void zip()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * That just about covers the basics. Take a look in the test/ folder for more</span><br><span class="line"> * detailed examples. After you run this file, your generated code shows up</span><br><span class="line"> * in folders with names gen-&lt;language&gt;. The generated code isn&apos;t too scary</span><br><span class="line"> * to look at. It even has pretty indentation.</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>
<h2 id="简单列子"><a href="#简单列子" class="headerlink" title="简单列子"></a>简单列子</h2><h3 id="前奏"><a href="#前奏" class="headerlink" title="前奏"></a>前奏</h3><pre><code>1. 将下载的thrift.exe、tutorial.thrift两个文件放在同一目录内
2. 编辑tutorial.thrift文件
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">namespace java demo.server</span><br><span class="line"></span><br><span class="line">service hello &#123;</span><br><span class="line"> i64 add(1:i64 a,2:i64 b)</span><br><span class="line"> string hello(1:string str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="Java代码生成"><a href="#Java代码生成" class="headerlink" title="Java代码生成"></a>Java代码生成</h3><pre><code>1. 打开cmd运行: `thrift -r --gen java tutorial.thrift`
2. 生成目录如下
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gen-java\demo\server\hello.java</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="Node-js代码生成"><a href="#Node-js代码生成" class="headerlink" title="Node.js代码生成"></a>Node.js代码生成</h3><pre><code>1. 打开cmd运行: `thrift -r --gen js:node tutorial.thrift`
2. 生成目录如下
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">   gen-nodejs\hello.js</span><br><span class="line">gen-nodejs\tutorial_types.js</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="Java项目结构"><a href="#Java项目结构" class="headerlink" title="Java项目结构"></a>Java项目结构</h3><p><img src="http://i.imgur.com/q4PLGtK.png" alt=""></p>
<pre><code>1. Hello就是thrift生成的java文件
2. HelloAsyncImpl服务接口的异步实现
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.TException;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.async.AsyncMethodCallback;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by zy on 2016/3/18.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloAsyncImpl</span> <span class="keyword">implements</span> <span class="title">Hello</span>.<span class="title">AsyncIface</span></span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">long</span> a, <span class="keyword">long</span> b, AsyncMethodCallback resultHandler)</span> <span class="keyword">throws</span> TException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"a:"</span>+a+<span class="string">"\nb:"</span>+b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">(String str, AsyncMethodCallback resultHandler)</span> <span class="keyword">throws</span> TException </span>&#123;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

3. HelloSyncImpl服务接口的同步实现
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.TException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by zy on 2016/3/18.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloSyncImpl</span> <span class="keyword">implements</span> <span class="title">Hello</span>.<span class="title">Iface</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">add</span><span class="params">(<span class="keyword">long</span> a, <span class="keyword">long</span> b)</span> <span class="keyword">throws</span> TException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"a:"</span>+a+<span class="string">"\nb:"</span>+b);</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(String str)</span> <span class="keyword">throws</span> TException </span>&#123;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello "</span>+str+<span class="string">"!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

4. MyServer服务端程序

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.TProcessor;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.protocol.TBinaryProtocol;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.server.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.transport.TFramedTransport;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.transport.TNonblockingServerSocket;</span><br><span class="line"><span class="keyword">import</span> org.apache.thrift.transport.TServerSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by zy on 2016/3/18.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServer</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 服务端-基本步骤</span><br><span class="line">     *</span><br><span class="line">     * 实现服务处理接口impl</span><br><span class="line">     * 创建TProcessor</span><br><span class="line">     * 创建TServerTransport</span><br><span class="line">     * 创建TProtocol</span><br><span class="line">     * 创建TServer</span><br><span class="line">     * 启动Server</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 客户端-基本步骤</span><br><span class="line">     *</span><br><span class="line">     * 创建Transport</span><br><span class="line">     * 创建TProtocol</span><br><span class="line">     * 基于TTransport和TProtocol创建 Client</span><br><span class="line">     * 调用Client的相应方法</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startSimpleServer</span><span class="params">()</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">"Server start .... Port is 9090 "</span>);</span><br><span class="line"></span><br><span class="line">            TProcessor tprocessor = <span class="keyword">new</span> Hello.Processor&lt;HelloSyncImpl&gt;(<span class="keyword">new</span> HelloSyncImpl());</span><br><span class="line"></span><br><span class="line">               <span class="comment">/**</span><br><span class="line">             * 传输层</span><br><span class="line">             * TSocket：阻塞式 I/O 进行传输，是最常见的模式</span><br><span class="line">             * TNonblockingServerSocket：非阻塞方式，按块的大小进行传输</span><br><span class="line">             * TNonblockingServerSocket：非阻塞方式，构建异步客户端</span><br><span class="line">             */</span></span><br><span class="line">            TServerSocket transport = <span class="keyword">new</span> TServerSocket(<span class="number">9090</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span><br><span class="line">             * 与服务模型保持一致</span><br><span class="line">             */</span></span><br><span class="line">            TServer.Args ttpsArgs = <span class="keyword">new</span> TServer.Args(transport);</span><br><span class="line"></span><br><span class="line">            ttpsArgs.processor(tprocessor);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span><br><span class="line">             * 数据传输协议</span><br><span class="line">             * TBinaryProtocol : 二进制格式</span><br><span class="line">             * TCompactProtocol : 压缩格式</span><br><span class="line">             * TJSONProtocol : JSON格式</span><br><span class="line">             * TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析</span><br><span class="line">             */</span></span><br><span class="line">            ttpsArgs.protocolFactory(<span class="keyword">new</span> TBinaryProtocol.Factory());</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span><br><span class="line">             * 服务模型</span><br><span class="line">             * TSimpleServer：简单-单线程服务模型</span><br><span class="line">             * TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)</span><br><span class="line">             * TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">             * THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">             */</span></span><br><span class="line">            TServer server = <span class="keyword">new</span> TSimpleServer(ttpsArgs);</span><br><span class="line">            server.serve();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        MyServer.startSimpleServer();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="NodeJs项目结构"><a href="#NodeJs项目结构" class="headerlink" title="NodeJs项目结构"></a>NodeJs项目结构</h3><p><img src="http://i.imgur.com/XIHpY59.png" alt=""></p>
<pre><code>1. hello和tutorial_types便是thrift生成的NodeJs代码
2. client客户端程序

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by zy on 2016/3/16.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">var</span> thrift = <span class="built_in">require</span>(<span class="string">'thrift'</span>);</span><br><span class="line"><span class="keyword">var</span> Hello = <span class="built_in">require</span>(<span class="string">'./hello.js'</span>),</span><br><span class="line">    ttypes = <span class="built_in">require</span>(<span class="string">'./tutorial_types'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//var TFramedTransport = require('thrift/lib/nodejs/lib/thrift/transport').TFramedTransport;</span></span><br><span class="line"><span class="keyword">var</span> TBufferedTransport = <span class="built_in">require</span>(<span class="string">'thrift/lib/nodejs/lib/thrift/transport'</span>).TBufferedTransport;</span><br><span class="line"><span class="comment">//var TBufferedTransport = require('thrift/lib/thrift/transport').TBufferedTransport;</span></span><br><span class="line"><span class="keyword">var</span> TBinaryProtocol = <span class="built_in">require</span>(<span class="string">'thrift/lib/nodejs/lib/thrift/protocol'</span>).TBinaryProtocol;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> connection = thrift.createConnection(<span class="string">'localhost'</span>, <span class="number">9090</span>,&#123;transport:TBufferedTransport,protocol:TBinaryProtocol&#125;),</span><br><span class="line">    client = thrift.createClient(Hello, connection);</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接</span></span><br><span class="line">connection.on(<span class="string">'connect'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'connected'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//连接--异常</span></span><br><span class="line">connection.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//调用helloString函数</span></span><br><span class="line"></span><br><span class="line">client.hello(<span class="string">'world'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,rep</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(rep);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">client.add(<span class="number">123</span>,<span class="number">233</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,rep</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(rep);</span><br><span class="line">        connection.end();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="开始测试"><a href="#开始测试" class="headerlink" title="开始测试"></a>开始测试</h3><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><pre><code>1. 传输层
    1. TSocket：阻塞式 I/O 进行传输，是最常见的模式
    2. TNonblockingServerSocket：非阻塞方式，按块的大小进行传输 
    3. NonblockingServerSocket：非阻塞方式，构建异步客户端

2. 数据传输协议
    1. TBinaryProtocol : 二进制格式
    2. TCompactProtocol : 压缩格式
    3. TJSONProtocol : JSON格式
    4. TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析

3. 服务模型
    1. TSimpleServer：简单单线程服务模型
    2. TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)
    3. TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)
    4. THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)
</code></pre><h4 id="TSimpleServer"><a href="#TSimpleServer" class="headerlink" title="TSimpleServer"></a>TSimpleServer</h4><pre><code>服务端代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startSimpleServer</span><span class="params">()</span></span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">try</span></span><br><span class="line">       &#123;</span><br><span class="line">           System.out.println(<span class="string">"Server start .... Port is 9090 "</span>);</span><br><span class="line">	</span><br><span class="line">           TProcessor tprocessor = <span class="keyword">new</span> Hello.Processor&lt;HelloSyncImpl&gt;(<span class="keyword">new</span> HelloSyncImpl());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * TServerTransport 受 Server类型影响</span><br><span class="line">            */</span></span><br><span class="line">           TServerSocket transport = <span class="keyword">new</span> TServerSocket(<span class="number">9090</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 与服务模型保持一致</span><br><span class="line">            */</span></span><br><span class="line">           TServer.Args ttpsArgs = <span class="keyword">new</span> TServer.Args(transport);</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.processor(tprocessor);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 数据传输协议</span><br><span class="line">            * TBinaryProtocol : 二进制格式</span><br><span class="line">            * TCompactProtocol : 压缩格式</span><br><span class="line">            * TJSONProtocol : JSON格式</span><br><span class="line">            * TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析</span><br><span class="line">            */</span></span><br><span class="line">           ttpsArgs.protocolFactory(<span class="keyword">new</span> TBinaryProtocol.Factory());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 服务模型</span><br><span class="line">            * TSimpleServer：简单单线程服务模型</span><br><span class="line">            * TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)</span><br><span class="line">            * TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            * THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            */</span></span><br><span class="line">           TServer server = <span class="keyword">new</span> TSimpleServer(ttpsArgs);</span><br><span class="line">           server.serve();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e)</span><br><span class="line">       &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>客户端代码-参考上面贴的代码，不用修改</p>
<p>服务端输出:<br><img src="http://i.imgur.com/YMLipVY.png" alt=""><br>客户端输出:<br><img src="http://i.imgur.com/DTJOAEi.png" alt=""></p>
<h4 id="TThreadPoolServer"><a href="#TThreadPoolServer" class="headerlink" title="TThreadPoolServer"></a>TThreadPoolServer</h4><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startThreadServer</span><span class="params">()</span></span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">try</span></span><br><span class="line">       &#123;</span><br><span class="line">           System.out.println(<span class="string">"Server start .... Port is 9090 "</span>);</span><br><span class="line">	</span><br><span class="line">           TProcessor tprocessor = <span class="keyword">new</span> Hello.Processor&lt;HelloSyncImpl&gt;(<span class="keyword">new</span> HelloSyncImpl());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * TServerTransport 受 Server类型影响</span><br><span class="line">            */</span></span><br><span class="line">           TServerSocket transport = <span class="keyword">new</span> TServerSocket(<span class="number">9090</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 与服务模型保持一致</span><br><span class="line">            */</span></span><br><span class="line">           TThreadPoolServer.Args ttpsArgs = <span class="keyword">new</span> TThreadPoolServer.Args(transport);</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.processor(tprocessor);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 数据传输协议</span><br><span class="line">            * TBinaryProtocol : 二进制格式</span><br><span class="line">            * TCompactProtocol : 压缩格式</span><br><span class="line">            * TJSONProtocol : JSON格式</span><br><span class="line">            * TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析</span><br><span class="line">            */</span></span><br><span class="line">           ttpsArgs.protocolFactory(<span class="keyword">new</span> TBinaryProtocol.Factory());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 服务模型</span><br><span class="line">            * TSimpleServer：简单单线程服务模型</span><br><span class="line">            * TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)</span><br><span class="line">            * TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            * THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            */</span></span><br><span class="line">           TServer server = <span class="keyword">new</span> TThreadPoolServer(ttpsArgs);</span><br><span class="line">           server.serve();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e)</span><br><span class="line">       &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>客户端代码-参考上面贴的代码，不用修改</p>
<p>服务端输出:<br><img src="http://i.imgur.com/YMLipVY.png" alt=""><br>客户端输出:<br><img src="http://i.imgur.com/DTJOAEi.png" alt=""></p>
<h4 id="TNonblockingServer"><a href="#TNonblockingServer" class="headerlink" title="TNonblockingServer"></a>TNonblockingServer</h4><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startNonblockingServer</span><span class="params">()</span></span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">try</span></span><br><span class="line">       &#123;</span><br><span class="line">           System.out.println(<span class="string">"Server start .... Port is 9090 "</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">//TProcessor tprocessor = new Hello.AsyncProcessor&lt;HelloAsyncImpl&gt;(new HelloAsyncImpl());</span></span><br><span class="line">		TProcessor tprocessor = <span class="keyword">new</span> Hello.Processor&lt;HelloSyncImpl&gt;(<span class="keyword">new</span> HelloSyncImpl());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 传输层</span><br><span class="line">            * TSocket：阻塞式 I/O 进行传输，是最常见的模式</span><br><span class="line">            * TNonblockingServerSocket：非阻塞方式，按块的大小进行传输</span><br><span class="line">            * TNonblockingServerSocket：非阻塞方式，构建异步客户端</span><br><span class="line">            */</span></span><br><span class="line">           TNonblockingServerSocket transport = <span class="keyword">new</span> TNonblockingServerSocket(<span class="number">9090</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 与服务模型保持一致</span><br><span class="line">            */</span></span><br><span class="line">           TNonblockingServer.Args ttpsArgs = <span class="keyword">new</span> TNonblockingServer.Args(transport);</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.processor(tprocessor);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 数据传输协议</span><br><span class="line">            * TBinaryProtocol : 二进制格式</span><br><span class="line">            * TCompactProtocol : 压缩格式</span><br><span class="line">            * TJSONProtocol : JSON格式</span><br><span class="line">            * TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析</span><br><span class="line">            */</span></span><br><span class="line">           ttpsArgs.protocolFactory(<span class="keyword">new</span> TBinaryProtocol.Factory());</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.transportFactory(<span class="keyword">new</span> TFramedTransport.Factory());</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 服务模型</span><br><span class="line">            * TSimpleServer：简单单线程服务模型</span><br><span class="line">            * TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)</span><br><span class="line">            * TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            * THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            */</span></span><br><span class="line">           TServer server = <span class="keyword">new</span> TNonblockingServer(ttpsArgs);</span><br><span class="line">           server.serve();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e)</span><br><span class="line">       &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>服务端代码: 需要增加TFramedTransport<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttpsArgs.transportFactory(new TFramedTransport.Factory())</span><br></pre></td></tr></table></figure></p>
<p>客户端代码: 修改transport为TFramedTransport，与服务端保持一致<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var connection = thrift.createConnection(&apos;localhost&apos;, 9090,&#123;transport:TFramedTransport,protocol:TBinaryProtocol&#125;)</span><br></pre></td></tr></table></figure></p>
<p>服务端输出:<br><img src="http://i.imgur.com/YMLipVY.png" alt=""></p>
<h4 id="THsHaServer"><a href="#THsHaServer" class="headerlink" title="THsHaServer"></a>THsHaServer</h4><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startHsHaServer</span><span class="params">()</span></span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">try</span></span><br><span class="line">       &#123;</span><br><span class="line">           System.out.println(<span class="string">"Server start .... Port is 9090 "</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">//TProcessor tprocessor = new Hello.AsyncProcessor&lt;HelloAsyncImpl&gt;(new HelloAsyncImpl());</span></span><br><span class="line">		TProcessor tprocessor = <span class="keyword">new</span> Hello.Processor&lt;HelloSyncImpl&gt;(<span class="keyword">new</span> HelloSyncImpl());</span><br><span class="line"></span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 传输层</span><br><span class="line">            * TSocket：阻塞式 I/O 进行传输，是最常见的模式</span><br><span class="line">            * TNonblockingServerSocket：非阻塞方式，按块的大小进行传输</span><br><span class="line">            * TNonblockingServerSocket：非阻塞方式，构建异步客户端</span><br><span class="line">            */</span></span><br><span class="line">           TNonblockingServerSocket transport = <span class="keyword">new</span> TNonblockingServerSocket(<span class="number">9090</span>);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 与服务模型保持一致</span><br><span class="line">            */</span></span><br><span class="line">           THsHaServer.Args ttpsArgs = <span class="keyword">new</span> THsHaServer.Args(transport);</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.processor(tprocessor);</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 数据传输协议</span><br><span class="line">            * TBinaryProtocol : 二进制格式</span><br><span class="line">            * TCompactProtocol : 压缩格式</span><br><span class="line">            * TJSONProtocol : JSON格式</span><br><span class="line">            * TSimpleJSONProtocol : JSON只写的协议，适用于通过脚本语言解析</span><br><span class="line">            */</span></span><br><span class="line">           ttpsArgs.protocolFactory(<span class="keyword">new</span> TBinaryProtocol.Factory());</span><br><span class="line">	</span><br><span class="line">           ttpsArgs.transportFactory(<span class="keyword">new</span> TFramedTransport.Factory());</span><br><span class="line">	</span><br><span class="line">           <span class="comment">/**</span><br><span class="line">            * 服务模型</span><br><span class="line">            * TSimpleServer：简单单线程服务模型</span><br><span class="line">            * TThreadPoolServer：线程池服务模型-使用标准的阻塞式IO(预先创建一组线程进行处理请求)</span><br><span class="line">            * TNonblockingServer：线程池服务模型-非阻塞式IO(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            * THsHaServer：线程池服务模型-半同步半异步模型(服务端、客户端需要指定TFramedTransport传输方式)</span><br><span class="line">            */</span></span><br><span class="line">           TServer server = <span class="keyword">new</span> THsHaServer(ttpsArgs);</span><br><span class="line">           server.serve();</span><br><span class="line">	</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e)</span><br><span class="line">       &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>服务端代码: 需要增加TFramedTransport<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttpsArgs.transportFactory(new TFramedTransport.Factory())</span><br></pre></td></tr></table></figure></p>
<p>客户端代码: 修改transport为TFramedTransport，与服务端保持一致<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var connection = thrift.createConnection(&apos;localhost&apos;, 9090,&#123;transport:TFramedTransport,protocol:TBinaryProtocol&#125;)</span><br></pre></td></tr></table></figure></p>
<p>服务端输出:<br><img src="http://i.imgur.com/YMLipVY.png" alt=""></p>
<h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><pre><code>java与node的异步通信还有待研究，这里只是简单测试。
</code></pre><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://www.micmiu.com/soa/rpc/thrift-sample/" target="_blank" rel="external">http://www.micmiu.com/soa/rpc/thrift-sample/</a><br><a href="http://www.cnblogs.com/51cto/archive/2010/08/18/thrift_connection_pool.html" target="_blank" rel="external">http://www.cnblogs.com/51cto/archive/2010/08/18/thrift_connection_pool.html</a><br><a href="http://www.ibm.com/developerworks/cn/java/j-lo-apachethrift/" target="_blank" rel="external">http://www.ibm.com/developerworks/cn/java/j-lo-apachethrift/</a><br><a href="http://dongxicheng.org/search-engine/thrift-guide/" target="_blank" rel="external">http://dongxicheng.org/search-engine/thrift-guide/</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/thrift/">thrift</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-Markdown-使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/15/Markdown-使用/" class="article-date">
      <time datetime="2016-03-15T05:39:32.000Z" itemprop="datePublished">2016-03-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/15/Markdown-使用/">Markdown 使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="欢迎使用-Cmd-Markdown-编辑阅读器"><a href="#欢迎使用-Cmd-Markdown-编辑阅读器" class="headerlink" title="欢迎使用 Cmd Markdown 编辑阅读器"></a>欢迎使用 Cmd Markdown 编辑阅读器</h1><hr>
<p>我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，<strong>Cmd Markdown</strong> 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown：</p>
<blockquote>
<ul>
<li>整理知识，学习笔记</li>
<li>发布日记，杂文，所见所想</li>
<li>撰写发布技术文稿（代码支持）</li>
<li>撰写发布学术论文（LaTeX 公式支持）</li>
</ul>
</blockquote>
<p><img src="https://www.zybuluo.com/static/img/logo.png" alt="cmd-markdown-logo"></p>
<p>除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载：</p>
<h3 id="Windows-Mac-Linux-全平台客户端"><a href="#Windows-Mac-Linux-全平台客户端" class="headerlink" title="Windows/Mac/Linux 全平台客户端"></a><a href="https://www.zybuluo.com/cmd/" target="_blank" rel="external">Windows/Mac/Linux 全平台客户端</a></h3><blockquote>
<p>请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class="icon-file"></i> <strong>新文稿</strong> 或者使用快捷键 <code>Ctrl+Alt+N</code>。</p>
</blockquote>
<hr>
<h2 id="什么是-Markdown"><a href="#什么是-Markdown" class="headerlink" title="什么是 Markdown"></a>什么是 Markdown</h2><p>Markdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，<strong>粗体</strong> 或者 <em>斜体</em> 某些文字，更棒的是，它还可以</p>
<h3 id="1-制作一份待办事宜-Todo-列表"><a href="#1-制作一份待办事宜-Todo-列表" class="headerlink" title="1. 制作一份待办事宜 Todo 列表"></a>1. 制作一份待办事宜 <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#13-待办事宜-todo-列表" target="_blank" rel="external">Todo 列表</a></h3><ul>
<li>[ ] 支持以 PDF 格式导出文稿</li>
<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>
<li>[x] 新增 Todo 列表功能</li>
<li>[x] 修复 LaTex 公式渲染问题</li>
<li>[x] 新增 LaTex 公式编号功能</li>
</ul>
<h3 id="2-书写一个质能守恒公式-LaTeX"><a href="#2-书写一个质能守恒公式-LaTeX" class="headerlink" title="2. 书写一个质能守恒公式[^LaTeX]"></a>2. 书写一个质能守恒公式[^LaTeX]</h3><p>$$E=mc^2$$</p>
<h3 id="3-高亮一段代码-code"><a href="#3-高亮一段代码-code" class="headerlink" title="3. 高亮一段代码[^code]"></a>3. 高亮一段代码[^code]</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># A comment</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'hello world'</span></span><br></pre></td></tr></table></figure>
<h3 id="4-高效绘制-流程图"><a href="#4-高效绘制-流程图" class="headerlink" title="4. 高效绘制 流程图"></a>4. 高效绘制 <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#7-流程图" target="_blank" rel="external">流程图</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">op=&gt;operation: Your Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line">e=&gt;end</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>
<h3 id="5-高效绘制-序列图"><a href="#5-高效绘制-序列图" class="headerlink" title="5. 高效绘制 序列图"></a>5. 高效绘制 <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#8-序列图" target="_blank" rel="external">序列图</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class="line">Note right of Bob: Bob thinks</span><br><span class="line">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure>
<h3 id="6-绘制表格"><a href="#6-绘制表格" class="headerlink" title="6. 绘制表格"></a>6. 绘制表格</h3><table>
<thead>
<tr>
<th>项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>计算机</td>
<td style="text-align:right">\$1600</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td>手机</td>
<td style="text-align:right">\$12</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>管线</td>
<td style="text-align:right">\$1</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
<h3 id="7-更详细语法说明"><a href="#7-更详细语法说明" class="headerlink" title="7. 更详细语法说明"></a>7. 更详细语法说明</h3><p>想要查看更详细的语法说明，可以参考我们准备的 <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown" target="_blank" rel="external">Cmd Markdown 简明语法手册</a>，进阶用户可以参考 <a href="https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-高阶语法手册" target="_blank" rel="external">Cmd Markdown 高阶语法手册</a> 了解更多高级功能。</p>
<p>总而言之，不同于其它 <em>所见即所得</em> 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。<strong>Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。</strong> 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。</p>
<hr>
<h2 id="什么是-Cmd-Markdown"><a href="#什么是-Cmd-Markdown" class="headerlink" title="什么是 Cmd Markdown"></a>什么是 Cmd Markdown</h2><p>您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 <strong>编辑/发布/阅读</strong> Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。</p>
<h3 id="1-实时同步预览"><a href="#1-实时同步预览" class="headerlink" title="1. 实时同步预览"></a>1. 实时同步预览</h3><p>我们将 Cmd Markdown 的主界面一分为二，左边为<strong>编辑区</strong>，右边为<strong>预览区</strong>，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！</p>
<h3 id="2-编辑工具栏"><a href="#2-编辑工具栏" class="headerlink" title="2. 编辑工具栏"></a>2. 编辑工具栏</h3><p>也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 <strong>编辑区</strong> 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。</p>
<p><img src="https://www.zybuluo.com/static/img/toolbar-editor.png" alt="tool-editor"></p>
<h3 id="3-编辑模式"><a href="#3-编辑模式" class="headerlink" title="3. 编辑模式"></a>3. 编辑模式</h3><p>完全心无旁骛的方式编辑文字：点击 <strong>编辑工具栏</strong> 最右测的拉伸按钮或者按下 <code>Ctrl + M</code>，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！</p>
<h3 id="4-实时的云端文稿"><a href="#4-实时的云端文稿" class="headerlink" title="4. 实时的云端文稿"></a>4. 实时的云端文稿</h3><p>为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 <strong>编辑工具栏</strong> 的最右侧提示 <code>已保存</code> 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。</p>
<h3 id="5-离线模式"><a href="#5-离线模式" class="headerlink" title="5. 离线模式"></a>5. 离线模式</h3><p>在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。</p>
<h3 id="6-管理工具栏"><a href="#6-管理工具栏" class="headerlink" title="6. 管理工具栏"></a>6. 管理工具栏</h3><p>为了便于管理您的文稿，在 <strong>预览区</strong> 的顶部放置了如下所示的 <strong>管理工具栏</strong>：</p>
<p><img src="https://www.zybuluo.com/static/img/toolbar-manager.jpg" alt="tool-manager"></p>
<p>通过管理工具栏可以：</p>
<p><i class="icon-share"></i> 发布：将当前的文稿生成固定链接，在网络上发布，分享<br><i class="icon-file"></i> 新建：开始撰写一篇新的文稿<br><i class="icon-trash"></i> 删除：删除当前的文稿<br><i class="icon-cloud"></i> 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地<br><i class="icon-reorder"></i> 列表：所有新增和过往的文稿都可以在这里查看、操作<br><i class="icon-pencil"></i> 模式：切换 普通/Vim/Emacs 编辑模式</p>
<h3 id="7-阅读工具栏"><a href="#7-阅读工具栏" class="headerlink" title="7. 阅读工具栏"></a>7. 阅读工具栏</h3><p><img src="https://www.zybuluo.com/static/img/toolbar-reader.jpg" alt="tool-manager"></p>
<p>通过 <strong>预览区</strong> 右上角的 <strong>阅读工具栏</strong>，可以查看当前文稿的目录并增强阅读体验。</p>
<p>工具栏上的五个图标依次为：</p>
<p><i class="icon-list"></i> 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落<br><i class="icon-chevron-sign-left"></i> 视图：互换左边编辑区和右边预览区的位置<br><i class="icon-adjust"></i> 主题：内置了黑白两种模式的主题，试试 <strong>黑色主题</strong>，超炫！<br><i class="icon-desktop"></i> 阅读：心无旁骛的阅读模式提供超一流的阅读体验<br><i class="icon-fullscreen"></i> 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境</p>
<h3 id="8-阅读模式"><a href="#8-阅读模式" class="headerlink" title="8. 阅读模式"></a>8. 阅读模式</h3><p>在 <strong>阅读工具栏</strong> 点击 <i class="icon-desktop"></i> 或者按下 <code>Ctrl+Alt+M</code> 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。</p>
<h3 id="9-标签、分类和搜索"><a href="#9-标签、分类和搜索" class="headerlink" title="9. 标签、分类和搜索"></a>9. 标签、分类和搜索</h3><p>在编辑区任意行首位置输入以下格式的文字可以标签当前文档：</p>
<p>标签： 未分类</p>
<p>标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示：</p>
<p><img src="https://www.zybuluo.com/static/img/file-list.png" alt="file-list"></p>
<h3 id="10-文稿发布和分享"><a href="#10-文稿发布和分享" class="headerlink" title="10. 文稿发布和分享"></a>10. 文稿发布和分享</h3><p>在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 <i class="icon-share"></i> (Ctrl+Alt+P) 发布这份文档给好友吧！</p>
<hr>
<p>再一次感谢您花费时间阅读这份欢迎稿，点击 <i class="icon-file"></i> (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！</p>
<p>作者 <a href="http://weibo.com/ghosert" target="_blank" rel="external">@ghosert</a><br>2015 年 06月 15日    </p>
<p>[^LaTeX]: 支持 <strong>LaTeX</strong> 编辑显示支持，例如：$\sum_{i=1}^n a_i=0$， 访问 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="external">MathJax</a> 参考更多使用方法。</p>
<p>[^code]: 代码高亮功能支持包括 Java, Python, JavaScript 在内的，<strong>四十一</strong>种主流编程语言。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Markdown/">Markdown</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/14/hello-world/" class="article-date">
      <time datetime="2016-03-14T06:00:15.226Z" itemprop="datePublished">2016-03-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/14/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 kuye
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.1.22/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>